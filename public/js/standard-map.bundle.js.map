{"version":3,"names":[],"mappings":"","sources":["js/standard-map.bundle.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.standardmap = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nvar StandardMap = (function () {\n    function StandardMap(K) {\n        this.twoPi = 2 * Math.PI;\n        this.generate = function (theta, I, n) {\n            for (var i = 0; i < n; ++i) {\n                yield [theta, I];\n                var nI = I + (this.K * Math.sin(theta));\n                theta = this.PV(theta + nI);\n                I = this.PV(nI);\n            }\n        };\n        this.callback = function (theta, I, n, callback) {\n            for (var i = 0; i < n; ++i) {\n                callback(theta, I);\n                var nI = I + (this.K * Math.sin(theta));\n                theta = this.PV(theta + nI);\n                I = this.PV(nI);\n            }\n        };\n        this.K = K;\n        this.PV = this.principal_value(this.twoPi);\n        console.log('SM constructor');\n    }\n    StandardMap.prototype.principal_value = function (cuthigh) {\n        var cutlow = cuthigh - this.twoPi;\n        return function (x) {\n            if (cutlow <= x && x < cuthigh) {\n                return x;\n            }\n            var y = x - this.twoPi * Math.floor(x / this.twoPi);\n            return y < cuthigh ? y : y - this.twoPi;\n        };\n    };\n    StandardMap.prototype.run = function (theta, I, point, fail) {\n        var nI = I + (this.K * Math.sin(theta));\n        point(this.PV(theta + nI), this.PV(nI));\n    };\n    return StandardMap;\n}());\nexports.StandardMap = StandardMap;\nvar ExploreMap = (function () {\n    function ExploreMap(canvas, M) {\n        var _this = this;\n        this.canvas = document.getElementById(canvas);\n        this.M = M;\n        this.context = this.canvas.getContext('2d');\n        var _a = [2 * Math.PI, 2 * Math.PI], w = _a[0], h = _a[1];\n        this.canvas.onmousedown = function (e) {\n            console.log(e);\n            var _a = [e.offsetX / _this.context.canvas.width * w,\n                h - e.offsetY / _this.context.canvas.height * h], cx = _a[0], cy = _a[1];\n            _this.Explore(cx, cy);\n        };\n        this.context.fillStyle = 'red';\n        this.context.scale(this.context.canvas.width / w, -this.context.canvas.height / h);\n        this.context.translate(0, -h);\n        this.context.fillStyle = 'green';\n        this.context.fillRect(Math.PI, Math.PI, 0.05, 0.1);\n    }\n    ExploreMap.prototype.pt = function (x, y) {\n        this.context.fillStyle = 'rgba(0,0,255,0.3)';\n        this.context.beginPath();\n        this.context.arc(x, y, 0.01, 0, 2 * Math.PI);\n        this.context.fill();\n        this.context.closePath();\n    };\n    ExploreMap.prototype.Explore0 = function (x, y) {\n        var _this = this;\n        for (var i = 0; i < 1000; ++i) {\n            this.M.run(x, y, function (xp, yp) {\n                _this.pt(xp, yp);\n                x = xp;\n                y = yp;\n            }, function () {\n                console.log('FAIL');\n            });\n        }\n    };\n    ExploreMap.prototype.Explore1 = function (x, y) {\n        for (var _i = 0, _a = this.M.generate(x, y, 1000); _i < _a.length; _i++) {\n            _b = _a[_i], x = _b[0], y = _b[1];\n            this.pt(x, y);\n        }\n        var _b;\n    };\n    ExploreMap.prototype.Explore = function (x, y) {\n        this.M.callback(x, y, 1000, this.pt.bind(this));\n    };\n    return ExploreMap;\n}());\nexports.ExploreMap = ExploreMap;\n\n},{}]},{},[1])(1)\n});"],"file":"js/standard-map.bundle.js","sourceRoot":"/public"}